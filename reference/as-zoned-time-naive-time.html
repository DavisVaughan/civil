<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Convert to a zoned-time from a naive-time — as-zoned-time-naive-time • clock</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Convert to a zoned-time from a naive-time — as-zoned-time-naive-time" />
<meta property="og:description" content="Converting to a zoned-time from a naive-time retains the printed time,
but changes the underlying duration, depending on the zone that you choose.
Naive-times are time points with a yet-to-be-determined time zone. By
converting them to a zoned-time, all you are doing is specifying that
time zone while attempting to keep all other printed information the
same (if possible).
If you want to retain the underlying duration, try converting to a zoned-time
from a sys-time, which is a time point
interpreted as having a UTC time zone." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">clock</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/DavisVaughan/clock/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convert to a zoned-time from a naive-time</h1>
    <small class="dont-index">Source: <a href='https://github.com/DavisVaughan/clock/blob/master/R/naive-time.R'><code>R/naive-time.R</code></a></small>
    <div class="hidden name"><code>as-zoned-time-naive-time.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Converting to a zoned-time from a naive-time retains the printed time,
but changes the underlying duration, depending on the <code>zone</code> that you choose.</p>
<p>Naive-times are time points with a yet-to-be-determined time zone. By
converting them to a zoned-time, all you are doing is specifying that
time zone while attempting to keep all other printed information the
same (if possible).</p>
<p>If you want to retain the underlying duration, try converting to a zoned-time
<a href='as-zoned-time-sys-time.html'>from a sys-time</a>, which is a time point
interpreted as having a UTC time zone.</p>
    </div>

    <pre class="usage"><span class='co'># S3 method for clock_naive_time</span>
<span class='fu'><a href='as_zoned_time.html'>as_zoned_time</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>zone</span>, <span class='va'>...</span>, nonexistent <span class='op'>=</span> <span class='st'>"error"</span>, ambiguous <span class='op'>=</span> <span class='st'>"error"</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p><code>[clock_naive_time]</code></p>
<p>A naive-time to convert to a zoned-time.</p></td>
    </tr>
    <tr>
      <th>zone</th>
      <td><p><code>[character(1)]</code></p>
<p>The zone to convert to.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>These dots are for future extensions and must be empty.</p></td>
    </tr>
    <tr>
      <th>nonexistent</th>
      <td><p><code>[character]</code></p>
<p>One of the following nonexistent time resolution strategies:</p><ul>
<li><p><code>"roll-forward"</code>: The next valid instant in time.</p></li>
<li><p><code>"roll-backward"</code>: The previous valid instant in time.</p></li>
<li><p><code>"shift-forward"</code>: Shift the nonexistent time forward by the size of
the daylight saving time gap.</p></li>
<li><p><code>"shift-backward</code>: Shift the nonexistent time backward by the size of
the daylight saving time gap.</p></li>
<li><p><code>"NA"</code>: Replace nonexistent times with <code>NA</code>.</p></li>
<li><p><code>"error"</code>: Error on nonexistent times.</p></li>
</ul>

<p>Allowed to be either length 1, or the same length as the input.</p>
<p>Using either <code>"roll-forward"</code> or <code>"roll-backward"</code> is generally
recommended over shifting, as these two strategies maintain the
<em>relative ordering</em> between elements of the input.</p></td>
    </tr>
    <tr>
      <th>ambiguous</th>
      <td><p><code>[character]</code></p>
<p>One of the following ambiguous time resolution strategies:</p><ul>
<li><p><code>"earliest"</code>: Of the two possible times, choose the earliest one.</p></li>
<li><p><code>"latest"</code>: Of the two possible times, choose the latest one.</p></li>
<li><p><code>"NA"</code>: Replace ambiguous times with <code>NA</code>.</p></li>
<li><p><code>"error"</code>: Error on ambiguous times.</p></li>
</ul>

<p>Allowed to be either length 1, or the same length as the input.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A zoned-time vector.</p>
    <h2 class="hasAnchor" id="daylight-saving-time"><a class="anchor" href="#daylight-saving-time"></a>Daylight Saving Time</h2>

    


<p>Converting from a naive-time to a zoned-time is not always possible due to
daylight saving time issues. There are two types of these issues:</p>
<p><em>Nonexistent</em> times are the result of daylight saving time "gaps".
For example, in the America/New_York time zone, there was a daylight
saving time gap 1 second after <code>"2020-03-08 01:59:59"</code>, where the clocks
changed from <code>01:59:59 -&gt; 03:00:00</code>, completely skipping the 2 o'clock hour.
This means that if you had a naive time of <code>"2020-03-08 02:30:00"</code>, you
couldn't convert that straight into a zoned-time with this time zone. To
resolve these issues, the <code>nonexistent</code> argument can be used to specify
one of many nonexistent time resolution strategies.</p>
<p><em>Ambiguous</em> times are the result of daylight saving time "fallbacks".
For example, in the America/New_York time zone, there was a daylight
saving time fallback 1 second after <code>"2020-11-01 01:59:59 EDT"</code>, at which
point the clocks "fell backwards" by 1 hour, resulting in a printed time of
<code>"2020-11-01 01:00:00 EST"</code> (note the EDT-&gt;EST shift). This resulted in two
1 o'clock hours for this day, so if you had a naive time of
<code>"2020-11-01 01:30:00"</code>, you wouldn't be able to convert that directly
into a zoned-time with this time zone, as there is no way for clock to know
which of the two ambiguous times you wanted. To resolve these issues,
the <code>ambiguous</code> argument can be used to specify one of many ambiguous
time resolution strategies.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='as_naive_time.html'>as_naive_time</a></span><span class='op'>(</span><span class='fu'><a href='year_month_day.html'>year_month_day</a></span><span class='op'>(</span><span class='fl'>2019</span>, <span class='fl'>1</span>, <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Converting a naive-time to a zoned-time generally retains the</span>
<span class='co'># printed time, while changing the underlying duration.</span>
<span class='fu'><a href='as_zoned_time.html'>as_zoned_time</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='st'>"America/New_York"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;zoned_time&lt;second&gt;&lt;America/New_York&gt;[1]&gt;
#&gt; [1] "2019-01-01T00:00:00-05:00"</div><div class='input'><span class='fu'><a href='as_zoned_time.html'>as_zoned_time</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='st'>"America/Los_Angeles"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;zoned_time&lt;second&gt;&lt;America/Los_Angeles&gt;[1]&gt;
#&gt; [1] "2019-01-01T00:00:00-08:00"</div><div class='input'>
<span class='co'># ---------------------------------------------------------------------------</span>
<span class='co'># Nonexistent time:</span>

<span class='va'>new_york</span> <span class='op'>&lt;-</span> <span class='st'>"America/New_York"</span>

<span class='co'># There was a daylight saving gap in the America/New_York time zone on</span>
<span class='co'># 2020-03-08 01:59:59 -&gt; 03:00:00, which means that one of these</span>
<span class='co'># naive-times don't exist in that time zone. By default, attempting to</span>
<span class='co'># convert it to a zoned time will result in an error.</span>
<span class='va'>nonexistent_time</span> <span class='op'>&lt;-</span> <span class='fu'><a href='year_month_day.html'>year_month_day</a></span><span class='op'>(</span><span class='fl'>2020</span>, <span class='fl'>03</span>, <span class='fl'>08</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>02</span>, <span class='fl'>03</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>45</span>, <span class='fl'>30</span><span class='op'>)</span>, <span class='fl'>00</span><span class='op'>)</span>
<span class='va'>nonexistent_time</span> <span class='op'>&lt;-</span> <span class='fu'><a href='as_naive_time.html'>as_naive_time</a></span><span class='op'>(</span><span class='va'>nonexistent_time</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/try.html'>try</a></span><span class='op'>(</span><span class='fu'><a href='as_zoned_time.html'>as_zoned_time</a></span><span class='op'>(</span><span class='va'>nonexistent_time</span>, <span class='va'>new_york</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Error : Nonexistent time due to daylight savings at location 1. Resolve nonexistent time issues by specifying the `nonexistent` argument.</div><div class='input'>
<span class='co'># Resolve this by specifying a nonexistent time resolution strategy</span>
<span class='fu'><a href='as_zoned_time.html'>as_zoned_time</a></span><span class='op'>(</span><span class='va'>nonexistent_time</span>, <span class='va'>new_york</span>, nonexistent <span class='op'>=</span> <span class='st'>"roll-forward"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;zoned_time&lt;second&gt;&lt;America/New_York&gt;[2]&gt;
#&gt; [1] "2020-03-08T03:00:00-04:00" "2020-03-08T03:30:00-04:00"</div><div class='input'><span class='fu'><a href='as_zoned_time.html'>as_zoned_time</a></span><span class='op'>(</span><span class='va'>nonexistent_time</span>, <span class='va'>new_york</span>, nonexistent <span class='op'>=</span> <span class='st'>"roll-backward"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;zoned_time&lt;second&gt;&lt;America/New_York&gt;[2]&gt;
#&gt; [1] "2020-03-08T01:59:59-05:00" "2020-03-08T03:30:00-04:00"</div><div class='input'>
<span class='co'># Note that rolling backwards will choose the last possible moment in</span>
<span class='co'># time at the current precision of the input</span>
<span class='va'>nonexistent_nanotime</span> <span class='op'>&lt;-</span> <span class='fu'><a href='time_point_cast.html'>time_point_cast</a></span><span class='op'>(</span><span class='va'>nonexistent_time</span>, <span class='st'>"nanosecond"</span><span class='op'>)</span>
<span class='va'>nonexistent_nanotime</span>
</div><div class='output co'>#&gt; &lt;time_point&lt;naive&gt;&lt;nanosecond&gt;[2]&gt;
#&gt; [1] "2020-03-08 02:45:00.000000000" "2020-03-08 03:30:00.000000000"</div><div class='input'><span class='fu'><a href='as_zoned_time.html'>as_zoned_time</a></span><span class='op'>(</span><span class='va'>nonexistent_nanotime</span>, <span class='va'>new_york</span>, nonexistent <span class='op'>=</span> <span class='st'>"roll-backward"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;zoned_time&lt;nanosecond&gt;&lt;America/New_York&gt;[2]&gt;
#&gt; [1] "2020-03-08T01:59:59.999999999-05:00" "2020-03-08T03:30:00.000000000-04:00"</div><div class='input'>
<span class='co'># A word of caution - Shifting does not guarantee that the relative ordering</span>
<span class='co'># of the input is maintained</span>
<span class='va'>shifted</span> <span class='op'>&lt;-</span> <span class='fu'><a href='as_zoned_time.html'>as_zoned_time</a></span><span class='op'>(</span><span class='va'>nonexistent_time</span>, <span class='va'>new_york</span>, nonexistent <span class='op'>=</span> <span class='st'>"shift-forward"</span><span class='op'>)</span>
<span class='va'>shifted</span>
</div><div class='output co'>#&gt; &lt;zoned_time&lt;second&gt;&lt;America/New_York&gt;[2]&gt;
#&gt; [1] "2020-03-08T03:45:00-04:00" "2020-03-08T03:30:00-04:00"</div><div class='input'><span class='co'># 02:45:00 &lt; 03:30:00</span>
<span class='va'>nonexistent_time</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span> <span class='op'>&lt;</span> <span class='va'>nonexistent_time</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span>
</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='co'># 03:45:00 &gt; 03:30:00 (relative ordering is lost)</span>
<span class='va'>shifted</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span> <span class='op'>&lt;</span> <span class='va'>shifted</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span>
</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'>
<span class='co'># ---------------------------------------------------------------------------</span>
<span class='co'># Ambiguous time:</span>

<span class='va'>new_york</span> <span class='op'>&lt;-</span> <span class='st'>"America/New_York"</span>

<span class='co'># There was a daylight saving time fallback in the America/New_York time</span>
<span class='co'># zone on 2020-11-01 01:59:59 EDT -&gt; 2020-11-01 01:00:00 EST, resulting</span>
<span class='co'># in two 1 o'clock hours. This means that the following naive time is</span>
<span class='co'># ambiguous since we don't know which of the two 1 o'clocks it belongs to.</span>
<span class='co'># By default, attempting to convert it to a zoned time will result in an</span>
<span class='co'># error.</span>
<span class='va'>ambiguous_time</span> <span class='op'>&lt;-</span> <span class='fu'><a href='year_month_day.html'>year_month_day</a></span><span class='op'>(</span><span class='fl'>2020</span>, <span class='fl'>11</span>, <span class='fl'>01</span>, <span class='fl'>01</span>, <span class='fl'>30</span>, <span class='fl'>00</span><span class='op'>)</span>
<span class='va'>ambiguous_time</span> <span class='op'>&lt;-</span> <span class='fu'><a href='as_naive_time.html'>as_naive_time</a></span><span class='op'>(</span><span class='va'>ambiguous_time</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/try.html'>try</a></span><span class='op'>(</span><span class='fu'><a href='as_zoned_time.html'>as_zoned_time</a></span><span class='op'>(</span><span class='va'>ambiguous_time</span>, <span class='va'>new_york</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Error : Ambiguous time due to daylight savings at location 1. Resolve ambiguous time issues by specifying the `ambiguous` argument.</div><div class='input'>
<span class='co'># Resolve this by specifying an ambiguous time resolution strategy</span>
<span class='fu'><a href='as_zoned_time.html'>as_zoned_time</a></span><span class='op'>(</span><span class='va'>ambiguous_time</span>, <span class='va'>new_york</span>, ambiguous <span class='op'>=</span> <span class='st'>"earliest"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;zoned_time&lt;second&gt;&lt;America/New_York&gt;[1]&gt;
#&gt; [1] "2020-11-01T01:30:00-04:00"</div><div class='input'><span class='fu'><a href='as_zoned_time.html'>as_zoned_time</a></span><span class='op'>(</span><span class='va'>ambiguous_time</span>, <span class='va'>new_york</span>, ambiguous <span class='op'>=</span> <span class='st'>"latest"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;zoned_time&lt;second&gt;&lt;America/New_York&gt;[1]&gt;
#&gt; [1] "2020-11-01T01:30:00-05:00"</div><div class='input'><span class='fu'><a href='as_zoned_time.html'>as_zoned_time</a></span><span class='op'>(</span><span class='va'>ambiguous_time</span>, <span class='va'>new_york</span>, ambiguous <span class='op'>=</span> <span class='st'>"NA"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;zoned_time&lt;second&gt;&lt;America/New_York&gt;[1]&gt;
#&gt; [1] NA</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Davis Vaughan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


