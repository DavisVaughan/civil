<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Zoned date-time arithmetic — civil-zoned-arithmetic • civil</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Zoned date-time arithmetic — civil-zoned-arithmetic" />
<meta property="og:description" content="Zoned arithmetic involves adding or subtracting units of time from a datetime
that has a time zone attached. This means that all of the complexities of
daylight savings time and nonexistent days have to be handled after each
individual arithmetic operation. The alternative is
naive arithmetic, which only deals with the
complexities of time zones once after all arithmetic has been performed.
Zoned arithmetic is usually fine for additions of singular units of time.
If you want to add multiple periods, consider switching to naive arithmetic.
The following add periods of time. Periods are units of time that do
not have a fixed constant duration (i.e. a &quot;month&quot; may be 30 or 31 days).
add_years()
add_months()
add_days()


The following add durations of time. Durations are fixed units of time
based on a set number of seconds.
add_hours()
add_minutes()
add_seconds()


When nonexistent or ambiguous date-times are landed on, the
day_nonexistent, dst_nonexistent, and dst_ambiguous options are
consulted to resolve any issues." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">civil</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/civil-arithmetic.html">Date-time arithmetic</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/DavisVaughan/civil/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Zoned date-time arithmetic</h1>
    <small class="dont-index">Source: <a href='https://github.com/DavisVaughan/civil/blob/master/R/arithmetic.R'><code>R/arithmetic.R</code></a></small>
    <div class="hidden name"><code>civil-zoned-arithmetic.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Zoned arithmetic involves adding or subtracting units of time from a datetime
that has a time zone attached. This means that all of the complexities of
daylight savings time and nonexistent days have to be handled after each
individual arithmetic operation. The alternative is
<a href='civil-naive-arithmetic.html'>naive arithmetic</a>, which only deals with the
complexities of time zones once after all arithmetic has been performed.</p>
<p>Zoned arithmetic is usually fine for additions of singular units of time.
If you want to add multiple periods, consider switching to naive arithmetic.</p>
<p>The following add <em>periods</em> of time. Periods are units of time that do
not have a fixed constant duration (i.e. a "month" may be 30 or 31 days).</p><ul>
<li><p><code><a href='civil-arithmetic.html'>add_years()</a></code></p></li>
<li><p><code><a href='civil-arithmetic.html'>add_months()</a></code></p></li>
<li><p><code><a href='civil-arithmetic.html'>add_days()</a></code></p></li>
</ul>

<p>The following add <em>durations</em> of time. Durations are fixed units of time
based on a set number of seconds.</p><ul>
<li><p><code><a href='civil-arithmetic.html'>add_hours()</a></code></p></li>
<li><p><code><a href='civil-arithmetic.html'>add_minutes()</a></code></p></li>
<li><p><code><a href='civil-arithmetic.html'>add_seconds()</a></code></p></li>
</ul>

<p>When nonexistent or ambiguous date-times are landed on, the
<code>day_nonexistent</code>, <code>dst_nonexistent</code>, and <code>dst_ambiguous</code> options are
consulted to resolve any issues.</p>
    </div>

    <pre class="usage"><span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>add_years</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>add_years</a></span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>n</span>,
  <span class='va'>...</span>,
  day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span>,
  dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>,
  dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>add_years</a></span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>n</span>,
  <span class='va'>...</span>,
  day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span>,
  dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>,
  dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_years</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_years</a></span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>n</span>,
  <span class='va'>...</span>,
  day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span>,
  dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>,
  dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_years</a></span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>n</span>,
  <span class='va'>...</span>,
  day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span>,
  dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>,
  dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>add_months</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>add_months</a></span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>n</span>,
  <span class='va'>...</span>,
  day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span>,
  dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>,
  dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>add_months</a></span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>n</span>,
  <span class='va'>...</span>,
  day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span>,
  dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>,
  dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_months</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_months</a></span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>n</span>,
  <span class='va'>...</span>,
  day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span>,
  dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>,
  dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_months</a></span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>n</span>,
  <span class='va'>...</span>,
  day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span>,
  dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>,
  dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>add_years_and_months</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>years</span>, <span class='va'>months</span>, <span class='va'>...</span>, day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>add_years_and_months</a></span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>years</span>,
  <span class='va'>months</span>,
  <span class='va'>...</span>,
  day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span>,
  dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>,
  dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>add_years_and_months</a></span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>years</span>,
  <span class='va'>months</span>,
  <span class='va'>...</span>,
  day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span>,
  dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>,
  dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_years_and_months</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>years</span>, <span class='va'>months</span>, <span class='va'>...</span>, day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_years_and_months</a></span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>years</span>,
  <span class='va'>months</span>,
  <span class='va'>...</span>,
  day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span>,
  dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>,
  dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_years_and_months</a></span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>years</span>,
  <span class='va'>months</span>,
  <span class='va'>...</span>,
  day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span>,
  dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>,
  dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>add_weeks</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>add_weeks</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>, dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>add_weeks</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>, dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_weeks</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_weeks</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>, dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_weeks</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>, dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>add_days</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>add_days</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>, dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>add_days</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>, dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_days</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_days</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>, dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_days</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, dst_nonexistent <span class='op'>=</span> <span class='cn'>NULL</span>, dst_ambiguous <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>add_hours</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>add_hours</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>add_hours</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_hours</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_hours</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_hours</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>add_minutes</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>add_minutes</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>add_minutes</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_minutes</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_minutes</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_minutes</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>add_seconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>add_seconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>add_seconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_seconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_seconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_seconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>add_milliseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>add_milliseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>add_milliseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_milliseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_milliseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_milliseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>add_microseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>add_microseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>add_microseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_microseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_microseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_microseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>add_nanoseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>add_nanoseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>add_nanoseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_nanoseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_nanoseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for civil_zoned</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_nanoseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p><code>[Date / POSIXct / POSIXlt]</code></p>
<p>A zoned date-time vector.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p><code>[integer]</code></p>
<p>An integer vector representing the number of units to add to or
subtract from <code>x</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>These dots are for future extensions and must be empty.</p></td>
    </tr>
    <tr>
      <th>day_nonexistent</th>
      <td><p><code>[character(1)]</code></p>
<p>Control the behavior when a nonexistent day is generated.</p><ul>
<li><p><code>"last-time"</code>: Adjust to the last possible time of the current month.</p></li>
<li><p><code>"first-time"</code>: Adjust to the first possible time of the following month.</p></li>
<li><p><code>"last-day"</code>: Adjust to the last day of the current month. For
date-times, the sub-daily components are kept.</p></li>
<li><p><code>"first-day"</code>: Adjust to the first day of the following month. For
date-times, the sub-daily components are kept.</p></li>
<li><p><code>"NA"</code>: Replace the nonexistent date with <code>NA</code>.</p></li>
<li><p><code>"error"</code>: Error on nonexistent dates.</p></li>
</ul>

<p><em>Warning</em>: When used in arithmetic with date-times, <code>"last-day"</code> and
<code>"first-day"</code> do not guarantee that the relative ordering of <code>x</code> is
maintained.</p></td>
    </tr>
    <tr>
      <th>dst_nonexistent</th>
      <td><p><code>[NULL / character]</code></p>
<p>Control the behavior when a nonexistent time is generated due to a
daylight savings gap.</p><ul>
<li><p><code>NULL</code>:
If <code>n</code> is positive, choose <code>"roll-forward"</code>.
If <code>n</code> is negative, choose <code>"roll-backward"</code>.</p></li>
<li><p><code>"roll-forward"</code>: Roll forward to the next valid moment in time.</p></li>
<li><p><code>"roll-backward"</code>: Roll backward to the previous valid moment in time.</p></li>
<li><p><code>"shift-forward"</code>: Shift the nonexistent time forward by the
length of the daylight savings gap (which is usually 1 hour).</p></li>
<li><p><code>"shift-backward"</code>: Shift the nonexistent time backward
by the length of the daylight savings gap (which is usually 1 hour).</p></li>
<li><p><code>"NA"</code>: Replace the nonexistent time with <code>NA</code>.</p></li>
<li><p><code>error</code>: Error on nonexistent times.</p></li>
</ul>

<p><em>Warning</em>: When used in arithmetic, <code>"shift-directional"</code>,
<code>"shift-forward"</code>, and <code>"shift-backward"</code> do not guarantee that the
relative ordering of <code>x</code> is maintained.</p></td>
    </tr>
    <tr>
      <th>dst_ambiguous</th>
      <td><p><code>[NULL / character]</code></p>
<p>Control the behavior when an ambiguous time is generated due to a daylight
savings fallback.</p><ul>
<li><p><code>NULL</code>:
If <code>n</code> is positive, choose <code>"earliest"</code>.
If <code>n</code> is negative, choose <code>"latest"</code>.</p></li>
<li><p><code>"earliest"</code>: Choose the earliest of the two possible ambiguous times.</p></li>
<li><p><code>"latest"</code>: Choose the latest of the two possible ambiguous times.</p></li>
<li><p><code>"NA"</code>: Replace the ambiguous time with <code>NA</code>.</p></li>
<li><p><code>"error"</code>: Error on ambiguous times.</p></li>
</ul></td>
    </tr>
    </table>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2019-01-31"</span><span class='op'>)</span>

<span class='fu'><a href='civil-arithmetic.html'>add_days</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2019-02-02"</div><div class='input'>
<span class='co'># Adding one month theoretically lands us on</span>
<span class='co'># "2019-02-31"</span>
<span class='co'># but this doesn't exist, so `day_nonexistent`</span>
<span class='co'># is consulted</span>
<span class='fu'><a href='civil-arithmetic.html'>add_months</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='fl'>1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2019-02-28"</div><div class='input'><span class='fu'><a href='civil-arithmetic.html'>add_months</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='fl'>1</span>, day_nonexistent <span class='op'>=</span> <span class='st'>"first-time"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2019-03-01"</div><div class='input'>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='op'>(</span><span class='st'>"1970-04-25 02:30:00"</span>, <span class='st'>"America/New_York"</span><span class='op'>)</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='op'>(</span><span class='st'>"1970-04-27 02:30:00"</span>, <span class='st'>"America/New_York"</span><span class='op'>)</span>

<span class='co'># Adding 1 day to `x` results in the nonexistent time of:</span>
<span class='co'># "1970-04-26 02:30:00"</span>
<span class='co'># at which point we have to make a decision about how to proceed using</span>
<span class='co'># `dst_nonexistent`.</span>
<span class='co'>#</span>
<span class='co'># Since we are adding a positive number of days, the default</span>
<span class='co'># chooses `"roll-forward"` which rolls forward to the</span>
<span class='co'># next valid moment in time.</span>
<span class='fu'><a href='civil-arithmetic.html'>add_days</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='fl'>1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "1970-04-26 03:00:00 EDT"</div><div class='input'>
<span class='co'># If we approach from the other side of the gap and subtract 1 day, then</span>
<span class='co'># the default chooses `"roll-backward"`, which rolls backward</span>
<span class='co'># to the previous valid moment in time.</span>
<span class='fu'><a href='civil-arithmetic.html'>subtract_days</a></span><span class='op'>(</span><span class='va'>y</span>, <span class='fl'>1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "1970-04-26 01:59:59 EST"</div><div class='input'>
<span class='co'># If you want to force one of these options,</span>
<span class='co'># you can set `dst_nonexistent` directly</span>
<span class='fu'><a href='civil-arithmetic.html'>add_days</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='fl'>1</span>, dst_nonexistent <span class='op'>=</span> <span class='st'>"roll-backward"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "1970-04-26 01:59:59 EST"</div><div class='input'><span class='fu'><a href='civil-arithmetic.html'>add_days</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='fl'>1</span>, dst_nonexistent <span class='op'>=</span> <span class='st'>"NA"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] NA</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Davis Vaughan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


