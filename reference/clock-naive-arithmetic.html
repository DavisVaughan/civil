<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Naive date-time arithmetic — clock-naive-arithmetic • clock</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Naive date-time arithmetic — clock-naive-arithmetic" />
<meta property="og:description" content="Naive arithmetic involves adding or subtracting units of time from a datetime
that is independent of any time zone. This means that daylight savings time
is never an issue while working with a naive datetime. Usually, you will
convert to a naive datetime with as_naive_time_point(), perform multiple
arithmetic operations or adjustments with it, then convert it back to a
zoned datetime with as_zoned_time_point().
Naive arithmetic is usually appropriate when performing multiple arithmetic
operations in a row (like adding a set of years, months, and days). The
alternative is zoned arithmetic, which is simpler
and more straightforward when you just need to perform a single operation
(like just adding 3 months)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">clock</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/clock-arithmetic.html">Date-time arithmetic</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/DavisVaughan/clock/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Naive date-time arithmetic</h1>
    <small class="dont-index">Source: <a href='https://github.com/DavisVaughan/clock/blob/master/R/arithmetic.R'><code>R/arithmetic.R</code></a></small>
    <div class="hidden name"><code>clock-naive-arithmetic.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Naive arithmetic involves adding or subtracting units of time from a datetime
that is independent of any time zone. This means that daylight savings time
is never an issue while working with a naive datetime. Usually, you will
convert to a naive datetime with <code>as_naive_time_point()</code>, perform multiple
arithmetic operations or adjustments with it, then convert it back to a
zoned datetime with <code>as_zoned_time_point()</code>.</p>
<p>Naive arithmetic is usually appropriate when performing multiple arithmetic
operations in a row (like adding a set of years, months, and days). The
alternative is <a href='clock-zoned-arithmetic.html'>zoned arithmetic</a>, which is simpler
and more straightforward when you just need to perform a single operation
(like just adding 3 months).</p>
    </div>

    <pre class="usage"><span class='co'># S3 method for clock_naive_time_point</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_years</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span><span class='op'>)</span>

<span class='co'># S3 method for clock_calendar</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_years</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span><span class='op'>)</span>

<span class='co'># S3 method for clock_naive_time_point</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_quarters</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span><span class='op'>)</span>

<span class='co'># S3 method for clock_calendar</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_quarters</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span><span class='op'>)</span>

<span class='co'># S3 method for clock_naive_time_point</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_months</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span><span class='op'>)</span>

<span class='co'># S3 method for clock_calendar</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_months</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span>, day_nonexistent <span class='op'>=</span> <span class='st'>"last-time"</span><span class='op'>)</span>

<span class='co'># S3 method for clock_naive_time_point</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_weeks</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_calendar</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_weeks</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_naive_time_point</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_days</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_calendar</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_days</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_naive_time_point</span>
<span class='fu'><a href='clock-arithmetic.html'>add_hours</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_calendar</span>
<span class='fu'><a href='clock-arithmetic.html'>add_hours</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_naive_time_point</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_hours</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_calendar</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_hours</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_naive_time_point</span>
<span class='fu'><a href='clock-arithmetic.html'>add_minutes</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_calendar</span>
<span class='fu'><a href='clock-arithmetic.html'>add_minutes</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_naive_time_point</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_minutes</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_calendar</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_minutes</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_naive_time_point</span>
<span class='fu'><a href='clock-arithmetic.html'>add_seconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_calendar</span>
<span class='fu'><a href='clock-arithmetic.html'>add_seconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_naive_time_point</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_seconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_calendar</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_seconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_naive_time_point</span>
<span class='fu'><a href='clock-arithmetic.html'>add_milliseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_calendar</span>
<span class='fu'><a href='clock-arithmetic.html'>add_milliseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_naive_time_point</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_milliseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_calendar</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_milliseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_naive_time_point</span>
<span class='fu'><a href='clock-arithmetic.html'>add_microseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_calendar</span>
<span class='fu'><a href='clock-arithmetic.html'>add_microseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_naive_time_point</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_microseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_calendar</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_microseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_naive_time_point</span>
<span class='fu'><a href='clock-arithmetic.html'>add_nanoseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_calendar</span>
<span class='fu'><a href='clock-arithmetic.html'>add_nanoseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_naive_time_point</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_nanoseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for clock_calendar</span>
<span class='fu'><a href='clock-arithmetic.html'>subtract_nanoseconds</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>n</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p><code>[clock_naive]</code></p>
<p>A naive date-time vector.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p><code>[integer]</code></p>
<p>An integer vector representing the number of units to add to or
subtract from <code>x</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>These dots are for future extensions and must be empty.</p></td>
    </tr>
    <tr>
      <th>day_nonexistent</th>
      <td><p><code>[character(1)]</code></p>
<p>Control the behavior when a nonexistent day is generated.</p><ul>
<li><p><code>"last-time"</code>: Adjust to the last possible time of the current month.</p></li>
<li><p><code>"first-time"</code>: Adjust to the first possible time of the following month.</p></li>
<li><p><code>"last-day"</code>: Adjust to the last day of the current month. For
date-times, the sub-daily components are kept.</p></li>
<li><p><code>"first-day"</code>: Adjust to the first day of the following month. For
date-times, the sub-daily components are kept.</p></li>
<li><p><code>"NA"</code>: Replace the nonexistent date with <code>NA</code>.</p></li>
<li><p><code>"error"</code>: Error on nonexistent dates.</p></li>
</ul>

<p><em>Warning</em>: When used in arithmetic with date-times, <code>"last-day"</code> and
<code>"first-day"</code> do not guarantee that the relative ordering of <code>x</code> is
maintained.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="nonexistent-days"><a class="anchor" href="#nonexistent-days"></a>Nonexistent Days</h2>

    

<p>Naive datetimes are unique because they are allowed to land on <em>nonexistent
days</em>. These might occur from adding 1 month to <code>"1971-01-29"</code>, which
theoretically lands on <code>"1971-02-29"</code>, a nonexistent day. With zoned
arithmetic, you are immediately forced to make a decision on how to handle
this nonexistent day. With naive arithmetic, that decision is delayed,
allowing you precise control over how to handle this case. As an example, you
might choose to add 1 year to this nonexistent date, resulting in
<code>"1972-02-29"</code>, which does exist due to it being a leap year. Or you might
convert it back to a zoned date with <code>as_zoned_time_point()</code>, which forces
you to deal with the nonexistent date using the <code>day_nonexistent</code> argument.
The default would choose the last real day in February of that year,
resulting in <code>"1971-02-28"</code>.</p>
<p>There are operations that force you to resolve nonexistent days. Using
<code><a href='clock-arithmetic.html'>add_days()</a></code>, <code><a href='clock-arithmetic.html'>add_hours()</a></code>, <code><a href='clock-arithmetic.html'>add_minutes()</a></code>, or <code><a href='clock-arithmetic.html'>add_seconds()</a></code> will
force you to resolve the nonexistent day by using the <code>day_nonexistent</code>
argument. After the nonexistent day has been resolved, the unit of time
is added.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Davis Vaughan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


